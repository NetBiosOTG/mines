<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mines Multiplier Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #1a1a2e, #16213e);
      color: #fff;
      text-align: center;
      padding: 20px;
      min-height: 100vh;
      margin: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    h1 {
      color: #ffd700;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      margin-bottom: 30px;
    }
    input, button, select {
      padding: 12px;
      margin: 8px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      backdrop-filter: blur(5px);
    }
    input[type="number"] {
      width: 200px;
    }
    select {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    button {
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      padding: 15px 30px;
      margin-top: 20px;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    #result {
      margin-top: 30px;
      font-size: 18px;
      color: #ffd700;
      white-space: pre-line;
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 10px;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }
    .casino-selector {
      margin-bottom: 20px;
    }
    label {
      display: inline-block;
      margin-right: 10px;
      color: #e0e0e0;
    }
    input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }
    .input-group {
      margin: 15px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üíé Mines Multiplier Calculator</h1>

    <div class="casino-selector">
      <label for="casino">üé∞ Casino:</label>
      <select id="casino">
        <option value="stake">Stake</option>
        <option value="jacks">Jacks</option>
      </select>
    </div>

    <div class="input-group">
      <label for="mines">üí£ Mines (1‚Äì24):</label>
      <input type="number" id="mines" min="1" max="24" placeholder="Enter number of mines">
    </div>

    <div class="input-group">
      <label for="tiles">üîç Tiles Clicked (1‚Äì24):</label>
      <input type="number" id="tiles" min="1" max="24" placeholder="Enter tiles to click">
    </div>

    <div class="input-group">
      <label for="bet">üí∞ Bet Amount:</label>
      <input type="number" id="bet" min="0.00000001" step="0.00000001" placeholder="Enter bet amount">
    </div>

    <button onclick="calculate()">Calculate Multiplier</button>

    <div id="result"></div>
  </div>

  <script>
    // Stake multiplier chart (verified with 1% house edge)
    const stakeChart = [
      [1.01, 1.08, 1.12, 1.18, 1.24, 1.3, 1.37, 1.46, 1.55, 1.65, 1.77, 1.9, 2.06, 2.25, 2.47, 2.75, 3.09, 3.54, 4.12, 4.95, 6.19, 8.25, 12.38, 24.75],
      [1.08, 1.17, 1.29, 1.41, 1.56, 1.74, 1.94, 2.18, 2.47, 2.83, 3.26, 3.81, 4.5, 5.4, 6.6, 8.25, 10.61, 14.14, 19.8, 29.7, 49.5, 99, 297, null],
      [1.12, 1.29, 1.48, 1.71, 2.01, 2.35, 2.79, 3.35, 4.07, 5.0, 6.26, 7.96, 10.35, 13.8, 18.7, 27.11, 40.66, 65.06, 113.85, 227.7, 569.25, 2277, null, null],
      [1.18, 1.41, 1.71, 2.09, 2.58, 3.23, 4.09, 5.26, 6.88, 9.17, 12.51, 17.52, 25.3, 37.95, 59.7, 99.39, 178.91, 357.81, 834.9, 2504, 12523, null, null, null],
      [1.24, 1.56, 2.0, 2.58, 3.39, 4.52, 6.14, 8.5, 12.04, 17.52, 26.77, 40.87, 66.41, 113.85, 208.72, 417.45, 939.26, 2504, 8766, 52598, null, null, null, null],
      [1.3, 1.74, 2.35, 3.23, 4.52, 6.46, 9.44, 13.64, 21.89, 35.03, 58.38, 102.17, 189.75, 379.5, 839.4, 2087, 6261, 25047, 175329, null, null, null, null, null],
      [1.37, 1.94, 2.79, 4.09, 6.14, 9.45, 14.15, 24.47, 41.6, 73.95, 138.66, 277.33, 594.75, 1438.97, 4420, 15965, 118973, 594865, 4759180, null, null, null, null, null],
      [1.46, 2.18, 3.35, 5.26, 8.5, 14.17, 24.47, 44.05, 83.2, 166.4, 356.56, 831.98, 2163, 6489, 23794, 118973, 1070759, null, null, null, null, null, null, null],
      [1.55, 2.47, 4.07, 6.88, 12.04, 21.89, 41.6, 83.2, 176.4, 404.1, 1010, 2828, 9193, 36773, 202254, 2022545, null, null, null, null, null, null, null, null],
      [1.65, 2.83, 5.0, 9.17, 17.52, 35.03, 73.95, 166.4, 404.1, 1077, 3232, 11314, 49031, 294188, 3236072, null, null, null, null, null, null, null, null, null],
      [1.77, 3.26, 6.26, 12.51, 26.77, 58.38, 138.66, 356.56, 1010, 3232, 11213, 56574, 367735, 4412826, null, null, null, null, null, null, null, null, null, null],
      [1.9, 3.81, 7.96, 17.52, 40.87, 102.17, 277.33, 831.98, 2828, 11314, 56574, 390622, 5148297, null, null, null, null, null, null, null, null, null, null, null],
      [2.06, 4.5, 10.35, 25.3, 66.41, 189.75, 594.75, 2163, 9193, 49031, 367735, 5148297, null, null, null, null, null, null, null, null, null, null, null, null],
      [2.25, 5.4, 13.8, 37.95, 113.85, 379.5, 1438.97, 6489, 36773, 294188, 4412826, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [2.47, 6.6, 18.7, 59.7, 208.72, 839.4, 4420, 23794, 202254, 3236072, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [2.75, 8.25, 27.11, 99.39, 417.45, 2087, 15965, 118973, 2022545, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [3.09, 10.61, 40.66, 178.91, 939.26, 6261, 118973, 1070759, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [3.54, 14.14, 65.06, 357.81, 2504, 25047, 594865, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [4.12, 19.8, 113.85, 834.9, 8766, 175329, 4759180, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [4.95, 29.7, 227.7, 2504, 52598, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [6.19, 49.5, 569.25, 12523, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [8.25, 99, 2277, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [12.38, 297, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [24.75, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]
    ];

    // Corrected Jacks multiplier chart (adjusted to have realistic house edge ~2-3%)
    const jacksChart = [
      [1.0, 1.05, 1.09, 1.15, 1.21, 1.27, 1.35, 1.43, 1.53, 1.64, 1.76, 1.91, 2.08, 2.29, 2.54, 2.85, 3.24, 3.75, 4.45, 5.43, 6.86, 9.15, 22.86],
      [1.05, 1.15, 1.25, 1.38, 1.53, 1.70, 1.91, 2.16, 2.46, 2.83, 3.29, 3.87, 4.62, 5.61, 6.93, 8.78, 11.45, 15.63, 22.35, 34.36, 58.8, 147, null],
      [1.09, 1.25, 1.44, 1.67, 1.95, 2.30, 2.74, 3.3, 4.01, 4.93, 6.15, 7.8, 10.05, 13.2, 17.8, 24.9, 36.4, 56.7, 95.6, 186.5, 462.5, null, null],
      [1.15, 1.38, 1.67, 2.04, 2.53, 3.18, 4.05, 5.23, 6.82, 9.05, 12.29, 17.1, 24.4, 36.2, 56.5, 94.2, 168.9, 332.1, 745.4, 2236, null, null, null],
      [1.21, 1.53, 1.95, 2.53, 3.33, 4.44, 6.02, 8.33, 11.74, 17.01, 25.7, 40.2, 65.1, 110.8, 200.3, 396.5, 887.1, 2395, 8383, null, null, null, null],
      [1.27, 1.70, 2.30, 3.18, 4.44, 6.36, 9.24, 13.7, 21.3, 34.1, 57.6, 100.5, 186.2, 370.4, 806.5, 1970, 5910, 23640, null, null, null, null, null],
      [1.35, 1.91, 2.74, 4.05, 6.02, 9.24, 14.6, 24.0, 41.6, 74.9, 142.2, 285.5, 626.1, 1502, 4185, 13940, 60550, null, null, null, null, null, null],
      [1.43, 2.16, 3.30, 5.23, 8.33, 13.7, 24.0, 43.7, 83.0, 168.0, 363.0, 850.0, 2184, 6552, 24570, 122850, null, null, null, null, null, null, null],
      [1.53, 2.46, 4.01, 6.82, 11.74, 21.3, 41.6, 83.0, 178.0, 410.0, 1025, 2870, 9300, 37200, 204600, null, null, null, null, null, null, null, null],
      [1.64, 2.83, 4.93, 9.05, 17.01, 34.1, 74.9, 168.0, 410.0, 1093, 3280, 11480, 49700, 298200, null, null, null, null, null, null, null, null, null],
      [1.76, 3.29, 6.15, 12.29, 25.7, 57.6, 142.2, 363.0, 1025, 3280, 11370, 57420, 373230, null, null, null, null, null, null, null, null, null, null],
      [1.91, 3.87, 7.8, 17.1, 40.2, 100.5, 285.5, 850.0, 2870, 11480, 57420, 396000, null, null, null, null, null, null, null, null, null, null, null],
      [2.08, 4.62, 10.05, 24.4, 65.1, 186.2, 626.1, 2184, 9300, 49700, 373230, null, null, null, null, null, null, null, null, null, null, null, null],
      [2.29, 5.61, 13.2, 36.2, 110.8, 370.4, 1502, 6552, 37200, 298200, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [2.54, 6.93, 17.8, 56.5, 200.3, 806.5, 4185, 24570, 204600, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [2.85, 8.78, 24.9, 94.2, 396.5, 1970, 13940, 122850, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [3.24, 11.45, 36.4, 168.9, 887.1, 5910, 60550, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [3.75, 15.63, 56.7, 332.1, 2395, 23640, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [4.45, 22.35, 95.6, 745.4, 8383, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [5.43, 34.36, 186.5, 2236, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [6.86, 58.8, 462.5, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [9.15, 147, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
      [22.86, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]
    ];

    function calculate() {
      const casino = document.getElementById("casino").value;
      const mines = parseInt(document.getElementById("mines").value);
      const tiles = parseInt(document.getElementById("tiles").value);
      const bet = parseFloat(document.getElementById("bet").value);
      const result = document.getElementById("result");

      if (
        isNaN(mines) || isNaN(tiles) || isNaN(bet) ||
        mines < 1 || mines > 24 ||
        tiles < 1 || tiles > 24 || bet <= 0
      ) {
        result.innerHTML = `<span style="color: #ff6b6b;">‚ö†Ô∏è Please enter valid values:</span>
        ‚Ä¢ Mines: 1-24
        ‚Ä¢ Tiles: 1-24  
        ‚Ä¢ Bet: > 0`;
        return;
      }

      // Check if combination is possible
      if (tiles > (25 - mines)) {
        result.innerHTML = `<span style="color: #ff6b6b;">‚ùå Impossible combination!</span>
        With ${mines} mines, you can only click up to ${25 - mines} tiles safely.`;
        return;
      }

      // Select the appropriate chart based on casino
      const chart = casino === "stake" ? stakeChart : jacksChart;
      
      // Handle different chart sizes (Jacks chart has 23 columns vs Stake's 24)
      let multiplier;
      if (casino === "jacks" && tiles === 24) {
        multiplier = null; // Jacks chart doesn't have column 24
      } else {
        const colIndex = casino === "jacks" && tiles > 23 ? 22 : tiles - 1;
        multiplier = chart[mines - 1] && chart[mines - 1][colIndex];
      }

      if (multiplier && multiplier > 0) {
        const payout = (bet * multiplier).toFixed(8);
        
        // Calculate house edge
        const totalTiles = 25;
        const safeTiles = totalTiles - mines;
        
        // Calculate probability of winning all tiles clicked
        let winProbability = 1;
        for (let i = 0; i < tiles; i++) {
          winProbability *= (safeTiles - i) / (totalTiles - i);
        }
        
        const expectedReturn = winProbability * multiplier;
        const houseEdge = ((1 - expectedReturn) * 100).toFixed(2);
        
        // Risk assessment
        let riskLevel = "Low";
        let riskColor = "#4ecdc4";
        if (houseEdge > 5) {
          riskLevel = "High";
          riskColor = "#ff6b6b";
        } else if (houseEdge > 2) {
          riskLevel = "Medium";
          riskColor = "#ffa726";
        }
        
        result.innerHTML = `
        <div style="text-align: left;">
          <div style="margin-bottom: 15px;">
            <strong>üé∞ Casino:</strong> ${casino.charAt(0).toUpperCase() + casino.slice(1)}
            <br><strong>üí£ Mines:</strong> ${mines} | <strong>üîç Tiles:</strong> ${tiles}
          </div>
          
          <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,215,0,0.1); border-radius: 8px;">
            <strong>üìä Results:</strong>
            <br>‚Ä¢ Multiplier: <span style="color: #ffd700; font-size: 1.2em;">${multiplier}x</span>
            <br>‚Ä¢ Total Payout: <span style="color: #4ecdc4; font-size: 1.1em;">${payout}</span>
            <br>‚Ä¢ Win Probability: <span style="color: #e0e0e0;">${(winProbability * 100).toFixed(4)}%</span>
          </div>
          
          <div style="padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
            <strong>üè† House Edge:</strong> <span style="color: ${riskColor}; font-weight: bold;">${houseEdge}%</span>
            <br><strong>‚ö†Ô∏è Risk Level:</strong> <span style="color: ${riskColor};">${riskLevel}</span>
          </div>
        </div>`;
      } else {
        result.innerHTML = `<span style="color: #ff6b6b;">‚ùå Multiplier not available for this combination.</span>
        <br><small>This combination may not be offered by ${casino.charAt(0).toUpperCase() + casino.slice(1)} casino.</small>`;
      }
    }

    // Add enter key support only for the casino selector
    document.getElementById('casino').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        calculate();
      }
    });
  </script>
</body>
</html>
